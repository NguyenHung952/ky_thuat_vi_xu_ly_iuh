ORG 0h
TG EQU 20H
KQ EQU 21H
CK EQU 22H
SLDL EQU 23H

TD1:
MOV KQ,#00H
MOV CK,#8

X1:
MOV SLDL,CK
MOV TG,#00H
SETB C

X0:
MOV A,TG
RLC A
MOV TG,A
ORL A,KQ
MOV P1,A
LCALL DELAY
DJNZ SLDL,X0

MOV KQ,P1
DJNZ CK,X1
SJMP TD1

DELAY:
MOV TMOD,#10H
MOV R1,#30

DEL:
MOV TH1,#0D8H
MOV TL1,#0F0H
SETB TR1
JNB TF1,$
CLR TR1
CLR TF1
DJNZ R1,DEL
RET

END
